<!DOCTYPE html>
<html>
<head>
    <title>PK-FILE</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <style>

        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap');

        * {
          font-family: 'Roboto Mono', monospace;
        }
        .clickable {
            cursor: pointer;
        }
        .size40 {
            max-height: 44rem;
            overflow: scroll;
        }
        .size30 {
            max-height: 33rem;
            overflow: scroll;
        }
        .barElement {
            float: right;
        }
        .halfMargin {
            margin-top: 0.5rem;
            margin-bottom: 0.5rem;
        }

    </style>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="halfMargin file-field input-field col s6">
                <div class="waves-effect waves-light btn">
                    <span>File</span>
                    <input type="file" id="inputFile" >
                </div>
                <div class="file-path-wrapper">
                    <input class="file-path validate" type="text">
                </div>
            </div>
            <div class="halfMargin col s6">
                <a class="waves-effect waves-light btn barElement" id="download">
                    <i class="material-icons left">file_download</i>
                    download
                </a>
            </div>
        </div>
        <div id="mainNav" class="row">
            <div class="col s12">
                <ul class="tabs">
                    <li class="tab col s3"><a href="#player">Player</a></li>
                    <li class="tab col s3"><a href="#pkmn">Pokémon</a></li>
                    <li class="tab col s3"><a href="#items">Items</a></li>
                    <li class="tab col s3"><a href="#record">Record</a></li>
                </ul>
            </div>
        </div>
        <div id="player">
            <div class="card-panel">
                <div class="row">
                    <div class="input-field col s8 m6">
                        <i class="material-icons prefix">account_circle</i>
                        <input type="text" id="trainerName" />
                        <label for="trainerName">Trainer Name</label>
                    </div>
                    <div class="input-field col s4 m2">
                        <input type="text" id="trainerId" disabled/>
                        <label for="trainerId">Trainer Id</label>
                    </div>
                    <div class="input-field col s12 m4">
                        <input type="text" id="rivalName" />
                        <label for="rivalName">Rival Name</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s7 l3">
                        <input type="text" id="trainerMoney" disabled/>
                        <label for="trainerMoney">Money</label>
                    </div>
                    <div class="input-field col s5 l2">
                        <input type="text" id="trainerCoins" disabled/>
                        <label for="trainerCoins">Coins</label>
                    </div>
                    <div class="input-field col s7 l4">
                        <input type="text" id="playTime" disabled/>
                        <label for="playTime">Play Time</label>
                    </div>
                    <div class="input-field col s5 l3">
                        <input type="text" id="pikachuFriendship" disabled/>
                        <label for="pikachuFriendship">Pikachu Friendship</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s6 m3">
                        <label >
                            <input type="checkbox" id='boulderBadge' disabled />
                            <span>Boulder</span>
                        </label>
                    </div>
                    <div class="col s6 m3">
                        <label>
                            <input type="checkbox" id='cascadeBadge' disabled/>
                            <span>Cascade</span>
                        </label>
                    </div>
                    <div class="col s6 m3">
                        <label>
                            <input type="checkbox" id='thunderBadge' disabled />
                            <span>Thunder</span>
                        </label>
                    </div>
                    <div class="col s6 m3">
                        <label>
                            <input type="checkbox" id='rainbowBadge' disabled />
                            <span>Rainbow</span>
                        </label>
                    </div>
                    <div class="col s6 m3">
                        <label>
                            <input type="checkbox" id='soulBadge' disabled />
                            <span>Soul</span>
                        </label>
                    </div>
                    <div class="col s6 m3">
                        <label>
                            <input type="checkbox" id='marshBadge' disabled />
                            <span>Marsh</span>
                        </label>
                    </div>
                    <div class="col s6 m3">
                        <label>
                            <input type="checkbox" id='volcanoBadge' disabled />
                            <span>Volcano</span>
                        </label>
                    </div>
                    <div class="col s6 m3">
                        <label>
                            <input type="checkbox" id='earthBadge' disabled />
                            <span>Earth</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div id="items" class="row">
            <div class="col s6">
                <div class="card-panel">
                    <h5>Inventory</h5>
                    <ul class="collection size40" id="itemBag"></ul>
                </div>
            </div>
            <div class="col s6">
                <div class="card-panel">
                    <h5>Item Box</h5>
                    <ul class="collection size40" id="itemBox"></ul>
                </div>
            </div>
        </div>
        <div id="record" class="row">
            <div class="col s6">
                <div class="card-panel">
                    <h5>Pokédex Completion</h5>
                    <ul class="collection size40" id="pokedexEntries" ></ul>
                </div>
            </div>
            <div class="col s6">
                <div class="card-panel">
                    <h5>Hall of Fame</h5>
                    <ul class="collection size40" id="hallOfFame" ></ul>
                </div>
            </div>
        </div>
        <div id="pkmn" class="row">
            <div class="col s12 l5" id="pkmn-boxes">
                <div class="card-panel">
                    <div class="input-field">
                        <select id="pkmn-box-select">
                            <option value="0" selected>Party</option>
                            <option value="-1">DayCare</option>
                            <option value="1">PC Box 1</option>
                            <option value="2">PC Box 2</option>
                            <option value="3">PC Box 3</option>
                            <option value="4">PC Box 4</option>
                            <option value="5">PC Box 5</option>
                            <option value="6">PC Box 6</option>
                            <option value="7">PC Box 7</option>
                            <option value="8">PC Box 8</option>
                            <option value="9">PC Box 9</option>
                            <option value="10">PC Box 10</option>
                            <option value="11">PC Box 11</option>
                            <option value="12">PC Box 12</option>
                        </select>
                    </div>
                    <ul class="collection size30" id="pkmnBox"></ul>
                </div>
            </div>
            <div class="col s12 l7">
                <div class="card-panel">
                    <h5>Pokémon</h5>
                    <form>
                        <div class="row">
                            <div class="input-field col s7">
                                <input type="text" id="pkmnNickname" />
                                <label for="pkmnNickname">Nickname</label>
                            </div>
                            <div class="input-field col s5">
                                <input type="text" id="pkmnSpecies" />
                                <label for="pkmnSpecies">Species</label>
                            </div>
                            <div class="input-field col s2">
                                <input type="text" id="pkmnLevel" />
                                <label for="pkmnLevel">Level</label>
                            </div>
                            <div class="input-field col s5">
                                <input type="text" id="pkmnExperience" />
                                <label for="pkmnExperience">Experience</label>
                            </div>
                            <div class="input-field col s5">
                                <input type="text" id="pkmnExpToNextLevel" />
                                <label for="pkmnExpToNextLevel">To Next Level</label>
                            </div>
                            <div class="input-field col s2">
                                <input type="text" id="pkmnCurHp" />
                                <label for="pkmnCurHp">HP</label>
                            </div>
                            <div class="input-field col s3">
                                <input type="text" id="pkmnStatus" />
                                <label for="pkmnStatus">Status</label>
                            </div>
                            <div class="input-field col s5">
                                <input type="text" id="pkmnHeldItem" />
                                <label for="pkmnHeldItem">Held Item</label>
                            </div>
                            <div class="input-field col s12">
                                <input type="text" id="pkmnType" />
                                <label for="pkmnType">Type</label>
                            </div>
                            <div class="input-field col s4">
                                <input type="text" id="pkmnOtIdNumber" />
                                <label for="pkmnOtIdNumber">OT id</label>
                            </div>
                            <div class="input-field col s8">
                                <input type="text" id="pkmnOtName" />
                                <label for="pkmnOtName">OT name</label>
                            </div>
                        </div>
                        <div class="row">
                            <ul class="collection col s6">
                                <li class="collection-item" id="pkmnAttack">
                                    Attack<br>
                                    <span id="pkmnAttackValue">&nbsp;</span>
                                    <span id="pkmnAttackHidden" class="secondary-content"></span>
                                </li>
                                <li class="collection-item" id="pkmnDefense">
                                    Defense<br>
                                    <span id="pkmnDefenseValue">&nbsp;</span>
                                    <span id="pkmnDefenseHidden" class="secondary-content"></span>
                                </li>
                                <li class="collection-item" id="pkmnSpeed">
                                    Speed<br>
                                    <span id="pkmnSpeedValue">&nbsp;</span>
                                    <span id="pkmnSpeedHidden" class="secondary-content"></span>
                                </li>
                                <li class="collection-item" id="pkmnSpecial">
                                    Special<br>
                                    <span id="pkmnSpecialValue">&nbsp;</span>
                                    <span id="pkmnSpecialHidden" class="secondary-content"></span>
                                </li>
                                <li class="collection-item" id="pkmnHpStat">
                                    HP<br>
                                    <span id="pkmnHpStatValue">&nbsp;</span>
                                    <span id="pkmnHpStatHidden" class="secondary-content"></span>
                                </li>
                            </ul>
                            <ul class="collection col s6">
                                <li class="collection-item">
                                    <span id="move-1-name">--</span>
                                    <span id="move-1-pp" class="secondary-content">-</span>
                                </li>
                                <li class="collection-item">
                                    <span id="move-2-name">--</span>
                                    <span id="move-2-pp" class="secondary-content">-</span>
                                </li>
                                <li class="collection-item">
                                    <span id="move-3-name">--</span>
                                    <span id="move-3-pp" class="secondary-content">-</span>
                                </li>
                                <li class="collection-item">
                                    <span id="move-4-name">--</span>
                                    <span id="move-4-pp" class="secondary-content">-</span>
                                </li>
                            </ul>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="pkdata.js" charset="UTF-8"></script>
    <script type="text/javascript" src="binaryfile.js" charset="UTF-8"></script>
    <script type="text/javascript" src="pkmn.js" charset="UTF-8"></script>
    <script type="text/javascript" src="savefile.js" charset="UTF-8"></script>
    <script type="text/javascript" src="textcodec.js" charset="UTF-8"></script>
    <script type="text/javascript" src="controller.js" charset="UTF-8"></script>
    <script>

        const controller = new MainPageController( {
            trainerName:    document.querySelector("#trainerName"),
            trainerMoney:   document.querySelector('#trainerMoney'),
            trainerCoins:   document.querySelector("#trainerCoins"),
            trainerId:      document.querySelector("#trainerId"),
            rivalName:      document.querySelector("#rivalName"),
            playTime:       document.querySelector("#playTime"),
            pikaFriendship: document.querySelector("#pikachuFriendship"),

            boulderBadge:   document.querySelector("#boulderBadge"),
            cascadeBadge:   document.querySelector("#cascadeBadge"),
            thunderBadge:   document.querySelector("#thunderBadge"),
            rainbowBadge:   document.querySelector("#rainbowBadge"),
            soulBadge:      document.querySelector("#soulBadge"),
            marshBadge:     document.querySelector("#marshBadge"),
            volcanoBadge:   document.querySelector("#volcanoBadge"),
            earthBadge:     document.querySelector("#earthBadge"),
        });

        document.querySelector("#pkmn-box-select").addEventListener('change', e => controller.onBoxSelected(e));
        document.querySelector('#inputFile').addEventListener('change', e => controller.onFileChanged(e), false);
        document.querySelector('#download').addEventListener('click', e => controller.onDownload(e));
        M.AutoInit();
    </script>
</body>